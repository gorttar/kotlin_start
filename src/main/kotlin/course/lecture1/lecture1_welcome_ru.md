## Что могут компьютеры
* считать со скоростью порядка миллиарда сложений в секунду
* запоминать результаты вычислений ~ терабайт информации (10 миллионов среднего размера книг)

## Одного быстрого счёта не достаточно, нужны хорошие алгоритмы
* поиск в интернете "в лоб": 45 млрд страниц, 1000 слов на странице, 10 операций на слово для поиска = 5 дней для обработки одного запроса
* шахматы: 35 возможных ходов на позицию, смотрим вперёд на 6 ходов, 2 млрд позиций для проверки, 100 операций на проверку, 30 минут на ход

## Памяти тоже не слишком много
* шахматы содержат примерно 10^123 возможных игр, а в обозримой вселенной всего 10^80 атомов

## Есть и ограничения
* невозможно точное предсказание погоды на длительный период в пределах города
* невозможно взломать современные методы шифрования в приемлемое время, хотя бы порядка человеческой жизни

## Принципиальные ограничения
* невозможно написать программу, которая бы анализировала произвольную программу и говорила, завершится та или нет (проблема останова)

## Типы знаний
* Декларативное знание, некоторые факты
  * в средней парте третьего ряда спрятана конфета
  * квадратный корень 
  ![](http://latex.codecogs.com/gif.latex?x) - это такое 
  ![](http://latex.codecogs.com/gif.latex?y), что 
  <img src="http://latex.codecogs.com/gif.latex?y \cdot y = x"/>

* Императивное знание, рецепты/алгоритмы/инструкции
  * зайти в аудиторию, отсчитать третий ряд, найти в нём среднюю парту, заглянуть под столешницу, отклеить конфету от столешницы
  * взять некоторое число 
  ![](http://latex.codecogs.com/gif.latex?y), если 
  <img src="http://latex.codecogs.com/gif.latex?y \cdot y"/> достаточно близко к 
  ![](http://latex.codecogs.com/gif.latex?x) то это и есть корень, иначе взять новое 
  <img src="http://latex.codecogs.com/gif.latex?y' = \frac{y + \frac{x}{y}}{2}"/> и повторить

<img src="http://latex.codecogs.com/gif.latex?x = 16"/>

y|y*y|x/y|(y+x/y)/2
---|---|---|---
3|9|5.333|4.1667
4.1667|17.36|3.837|4.0035
4.0035|16.0277|3.997|4.000002

## Понятие алгоритма
* последовательность простых операций
* средства управления ходом исполнения (ветвления if/when и циклы for/while/do..while)
* условия ветвлений и циклов
  
## Краткий экскурс в историю развития компьютеров
* компьютеры с фиксированной программой
  * калькулятор
  * "бомба" Алана Тьюринга (посмотри фильм "Игра в имитацию")
  
* компьютеры с программой, хранимой в памяти
  * ПК
  * ноутбуки
  * планшеты
  * смартфоны
  * программируемые калькуляторы
  
## Основы архитектуры компьютера
* память
* управляющий блок процессора со счётчиком команд
* арифметически/логический блок процессора (примитивные операции)
* устройства ввода/вывода (клавиатура, мышь, монитор и т.п.)

## Компьютеры с программой, хранимой в памяти
* последовательность инструкций (программа) хранится в памяти и состоит из примитивных инструкций:
  * арифметические и логические
  * простейшие проверки условий
  * операции по перемещению данных
* специальная программа (JVM интерпретатор байт-кода) выполняет инструкции по порядку:
  * использует проверки условий для изменения хода исполнения программы
  * останавливается, когда программа выполнена

## Базовые инструкции
* Тьюринг показал, что для вычисления чего угодно достаточно 6 базовых инструкций
* современные языки программирования (ЯП) содержат существенно больший набор инструкций
* есть возможность использовать абстрагирование для создания новых инструкций
* всё, что можно вычислить с использованием одного ЯП, можно вычислить и с использованием другого ЯП

## Создание алгоритмов
* ЯП предоставляет набор базовых операций
* выражения - сложные комбинации базовых операций, составленные по правилам ЯП
* выражения имеют значение и смысл в ЯП

## Свойства языков
* примитивные конструкции
  * русский: слова
  * ЯП: числа, строки, простые операции
* синтаксис
  * русский:
    * "собака кошка мальчик" - синтаксически не верно
    * "кошка обнимает мальчика" - синтаксически верно
  * ЯП:
    * "привет"5 - синтаксически не верно
    * 3.2*5 - синтаксически верно
* статическая семантика (сочетаемость) описывает, какие синтаксически верные конструкции имеют значение
  * русский: "я голодны" - синтаксически корректно, но семантически не верно
  * ЯП: 3+"привет" - синтаксически корректно, но семантически не верно
* семантика - значение, связанное с синтаксически корректной конструкцией без статических семантических ошибок
  * русский: одна фраза может иметь несколько смыслов -
    * "купи гвоздики"
    * "воспользовавшись моментом, он съел коня"
  * ЯП: двусмысленность отсутствует, но значение может быть не тем, которого ожидал программист

## Что может пойти не так
* синтаксические ошибки
  * наиболее частые, отлавливаются транслятором, легко исправимы
* ошибки статической семантики
  * в статически типизированных ЯП отлавливаются транслятором, но исправлять их несколько сложнее
* семантические ошибки (программа делает не то что предполагается) не отлавливаются транслятором, сложнее всего исправляются
  * программа падает с ошибкой, некорректно прекращает работу
  * программа никогда не завершается
  * программа даёт не тото ответ, который ожидается

## Наши цели
* изучить синтаксис и семантику ЯП
* научиться использовать их для перевода алгоритмов в программы
* научиться алгоритмическому мышлению для решения сложных задач

## Программы на Котлин
* программа - это последовательность деклараций (функции, классы) и команд (вызовы функций, команды if/when/for/while, инициализация переменных)
  * декларации вычисляются при вызове
  * команды исполняются
* команды компилируются в инструкции для JVM интерпретатора, которые исполняются в процессе работы программы

## Объекты
* программа манипулирует с объектами
* объекты имеют тип, который определяет, какие операции можно с ними производить
* объекты бывают
  * скалярные (не имеющие сложной внутренней структуры)
  * не скалярные (обладают внутренней структурой)

## Скалярные объекты
* **Int** - целые числа, например **5**
* **Long** - длинные целые числа, например **6L**
* **Float** - дробное число (с плавающей запятой), например **3.25f**
* **Double** - дробное число двойной точности, например **3.14159265**
* **Char** - символ, например **'f'**
* **Boolean** - логическое значение, истина - **true**, ложь - **false**
* **Unit** - специальный тип, обозначающий успешное завершение без значимого результата, имеет единственное значение **Unit**
* **Nothing** - специальный тип, обозначающий невозможность успешного завершения, не имеет значений

## Преобразования типов
* могут преобразовать значения одного типа в другой
* **3.toDouble()** преобразует целое число **3** в дробное **3.0**
* **3.9.toInt()** обрезает дробное число **3.9** до целого **3**

## Вывод в текстовую консоль (на экран)
**println(3 + 2)** выведет **5**

## Выражения
* являются комбинацией объектов и операций над ними
* у выражений всегда есть результат и его тип
* синтаксис простого выражения: **<объект> <операция> <объект>**

## Операции над целыми и дробными числами
* **i + j** сложение. Возможно переполнение для целых чисел
* **i - j** вычитание. Возможно переполнение для целых чисел
* **i * j** умножение. Возможно переполнение для целых чисел
* **i / j** деление. Если оба числа целые, то результат - целое и деление целочисленное (отбрасывается дробная часть)
* **i % j** остаток от деления
* **i.pow(j)** возведение в степень. **i** должно быть **Float** или **Double**

Для операций **+ - * / %** есть правила определения типа результата:
1. типы идут в порядке **Int < Long < Float < Double**
1. результат выражения имеет тип наибольший из типов операндов, например **2L * 3.0** имеет тип **Double**, так как **3.0** имеет тип **Double**, **2L** имеет тип **Long** и **Double** больше, чем **Long**

## Приоритеты операций
В сложном выражении сначала вычисляются вызовы функций, например **pow**, затем умножение и деление, затем сложение и вычитание

## Объявление переменных и присвоение им значений
* переменные бывают неизменяемые **val** и изменяемые **var**. Следует по возможности избегать изменяемых переменных
* переменные, как и в математике нужны для абстрагирования от конкретных значений и повторного переиспользования результатов выражений без повторного их вычисления
```kotlin
val a = 5 + 3 // = 8
val b = a * a // = 64, 5 + 3 вычисляется в программе 1 раз
```

### Объявление переменой совместно с присвоением значения
```kotlin
val x = 1
```
### Объявление переменой отдельно от присвоения значения
```kotlin
val x:Int // здесь приходится писать тип
x = 1
```
